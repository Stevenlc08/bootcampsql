CREATE DATABASE EXERCISES_1;
USE EXERCISES_1;
DROP DATABASE EXERCISES_1;

CREATE TABLE REGIONS (
   REGION_ID INTEGER PRIMARY KEY, 
   REGION_NAME VARCHAR(25)
);
CREATE TABLE COUNTRIES (
   COUNTRY_ID VARCHAR(2) PRIMARY KEY, 
   COUNTRY_NAME VARCHAR(40),
   REGION_ID INTEGER,
   FOREIGN KEY (REGION_ID) 
   REFERENCES REGIONS(REGION_ID)
);
CREATE TABLE LOCATIONS (
	LOCATION_ID INTEGER PRIMARY KEY,
    STREET_ADDRESS VARCHAR(25),
    POSTAL_CODE VARCHAR(12),
    CITY VARCHAR(30),
    STATE_PROVINCE VARCHAR(12),
    COUNTRY_ID VARCHAR(2),
    FOREIGN KEY (COUNTRY_ID) REFERENCES COUNTRIES(COUNTRY_ID)
);
CREATE TABLE DEPARTMENTS (
	DEPARTMENT_ID INTEGER PRIMARY KEY,
    DEPARTMENT_NAME VARCHAR(30),
    MANAGER_ID INTEGER,
    LOCATION_ID INTEGER,
    FOREIGN KEY (LOCATION_ID) REFERENCES LOCATIONS(LOCATION_ID)
);
CREATE TABLE JOBS (
	JOB_ID VARCHAR(10) PRIMARY KEY,
    JOB_TITLE VARCHAR(35),
    MIN_SALARY DECIMAL(11,2),
    MAX_SALARY DECIMAL(11,2)
);
CREATE TABLE EMPLOYEES (
	EMPLOYEE_ID INTEGER PRIMARY KEY,
    FIRST_NAME VARCHAR(20),
	LAST_NAME VARCHAR(25),
    EMAIL VARCHAR(25),
    PHONE_NUMBER VARCHAR(20),
    HIRE_DATE DATE,
    SALARY DECIMAL(11,2),
    COMMISSION_PCT DECIMAL(11,2),
    MANAGER_ID INTEGER,
    DEPARTMENT_ID INTEGER,
    FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENTS(DEPARTMENT_ID),
	JOB_ID VARCHAR(10),
    FOREIGN KEY (JOB_ID) REFERENCES JOBS(JOB_ID)
);
CREATE TABLE JOB_HISTORY (
	EMPLOYEE_ID INTEGER,
    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEES(EMPLOYEE_ID),
    START_DATE DATE,
    END_DATE DATE,
	JOB_ID VARCHAR(10),
    FOREIGN KEY (JOB_ID) REFERENCES jobs(JOB_ID),
    DEPARTMENT_ID INTEGER,
    FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENTS(DEPARTMENT_ID)
);

INSERT INTO REGIONS (REGION_ID, REGION_NAME) VALUES (1, 'ITALY');
INSERT INTO REGIONS (REGION_ID, REGION_NAME) VALUES (2, 'JAPAN');
INSERT INTO REGIONS (REGION_ID, REGION_NAME) VALUES (3, 'USA');
SELECT * FROM REGIONS;

INSERT INTO COUNTRIES (COUNTRY_ID, COUNTRY_NAME, REGION_ID)
	VALUES ('IT', 'ITALY', 1);
INSERT INTO COUNTRIES (COUNTRY_ID, COUNTRY_NAME, REGION_ID)
	VALUES ('JP', 'JAPAN', 2);    
INSERT INTO COUNTRIES (COUNTRY_ID, COUNTRY_NAME, REGION_ID)
	VALUES ('US', 'USA', 3);   
SELECT * FROM COUNTRIES;
    
INSERT INTO LOCATIONS (LOCATION_ID, STREET_ADDRESS, POSTAL_CODE, CITY, COUNTRY_ID)
	VALUES (1000, '1297 Via Cola di Rie', '989', 'Roma','IT');
INSERT INTO LOCATIONS (LOCATION_ID, STREET_ADDRESS, POSTAL_CODE, CITY, COUNTRY_ID)
	VALUES (1100, '93091 Calle della Te', '10934', 'Vence','IT');
INSERT INTO LOCATIONS (LOCATION_ID, STREET_ADDRESS, POSTAL_CODE, CITY, STATE_PROVINCE, COUNTRY_ID)
	VALUES (1200, '2017 Shinjuku-ku', '1689', 'Tokyo', 'Tokyo','JP');
INSERT INTO LOCATIONS (LOCATION_ID, STREET_ADDRESS, POSTAL_CODE, CITY, STATE_PROVINCE, COUNTRY_ID)
	VALUES (1400, '2014 Jabberwocky Rd', '26192', 'Southlake', 'Texas','US');
SELECT * FROM LOCATIONS;

INSERT INTO DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME, MANAGER_ID , LOCATION_ID)
	VALUES (10, 'Administration', 200, 1100);
INSERT INTO DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME, MANAGER_ID , LOCATION_ID)
	VALUES (20, 'Marketing', 201, 1200);
INSERT INTO DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME, MANAGER_ID , LOCATION_ID)
	VALUES (30, 'Purchasing', 202, 1400);
SELECT * FROM DEPARTMENTS;

INSERT INTO JOBS (JOB_ID, MIN_SALARY, MAX_SALARY)
	VALUES ('ST_CLERK', 10000.00, 90000.00);
INSERT INTO JOBS (JOB_ID, MIN_SALARY, MAX_SALARY)
	VALUES ('MK_REP', 10000.00, 90000.00);
INSERT INTO JOBS (JOB_ID, MIN_SALARY, MAX_SALARY)
	VALUES ('IT_PROG', 10000.00, 90000.00);
SELECT * FROM JOBS;

    
INSERT INTO EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL
				, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID )
	VALUES (100, 'Steven', 'King', 'SKING', '515-1234567', '1987-06-17', 'ST_CLERK', 24000.00, 0.00, 109, 10);
INSERT INTO EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL
				, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID )
	VALUES (101, 'Neena', 'Kochhar', 'NKOCHHAR', '515-1234568', '1987-06-18', 'MK_REP', 17000.00, 0.00, 103, 20);
INSERT INTO EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL
				, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID )
	VALUES (102, 'Lex', 'De Haan', 'LDEHAAN', '515-1234569', '1987-06-19', 'IT_PROG', 17000.00, 0.00, 108, 30);
SELECT * FROM EMPLOYEES;

INSERT INTO JOB_HISTORY (EMPLOYEE_ID, START_DATE, END_DATE, JOB_ID, DEPARTMENT_ID )
	VALUES (102, '1993-01-13', '1998-07-24', 'IT_PROG', '20');
INSERT INTO JOB_HISTORY (EMPLOYEE_ID, START_DATE, END_DATE, JOB_ID, DEPARTMENT_ID )
	VALUES (101, '1989-09-21', '1993-10-27', 'MK_REP', '10');
INSERT INTO JOB_HISTORY (EMPLOYEE_ID, START_DATE, END_DATE, JOB_ID, DEPARTMENT_ID )
	VALUES (101, '1993-10-28', '1997-03-15', 'MK_REP', '30');
INSERT INTO JOB_HISTORY (EMPLOYEE_ID, START_DATE, END_DATE, JOB_ID, DEPARTMENT_ID )
	VALUES (100, '1996-02-17', '1999-12-19', 'ST_CLERK', '30');
SELECT * FROM JOB_HISTORY;

SELECT * FROM REGIONS;
SELECT * FROM COUNTRIES;
SELECT * FROM LOCATIONS;
SELECT * FROM DEPARTMENTS;
SELECT * FROM EMPLOYEES;
SELECT * FROM JOB_HISTORY;
SELECT * FROM JOBS;
